var pageno1=1,pageno2=1,vue1=new Vue({el:"#history",data:{type:[],list1:[],list2:[],count1:0,count2:0,common:"0.00",progress:""},created:function(){getvrhdata("GetVRHList","get",{userid:localStorage.getItem("userid"),type:"0",pageno:1},!0,function(e){1==e.success?(vue1.list1=e.body.paging,vue1.count1=e.body.pageCount):mui.toast(e.msg)},function(e){})},mounted:function(){mui.plusReady(function(){mui.init({swipeBack:!1}),mui(".mui-scroll-wrapper").scroll({bounce:!0,indicators:!1,deceleration:mui.os.ios?.003:9e-4}),mui("#list1").pullRefresh({up:{height:100,auto:!1,contentrefresh:"正在加载...",contentnomore:"没有更多数据了",callback:function(){setTimeout(function(){mui("#list1").pullRefresh().endPullupToRefresh(vue1.count1<=++pageno1),vue1.getnewpage(localStorage.getItem("userid"),"0",pageno1)},150)}}}),mui("#list2").pullRefresh({up:{height:100,auto:!1,contentrefresh:"正在加载...",contentnomore:"没有更多数据了",callback:function(){setTimeout(function(){mui("#list2").pullRefresh().endPullupToRefresh(vue1.count2<=++pageno2),vue1.getnewpage(localStorage.getItem("userid"),"1",pageno2)},150)}}}),mui(".mui-scroll").on("tap",".mui-control-item:not(.mui-active)",function(){mui(".mui-slider").slider().gotoItem(this.getAttribute("data-index"))}),document.querySelector(".mui-slider").addEventListener("slide",function(e){vue1["list"+(e.detail.slideNumber+1)].length>0||vue1.getlist("list"+(e.detail.slideNumber+1),e.detail.slideNumber)})})},methods:{shuaxin:function(e,t,u){getvrhdata("GetVRHList","get",{userid:e,type:t,pageno:u},!0,function(e){1==e.success?(vue1["list"+(t+1)]=e.body.paging,vue1["count"+(t+1)]=e.body.pageCount):mui.toast(e.msg)})},getlist:function(e,t){this[e].length>0||getvrhdata("GetVRHList","get",{userid:localStorage.getItem("userid"),type:t,pageno:1},!0,function(u){1==u.success?(vue1[e]=u.body.paging,vue1["count"+(t+1)]=u.body.pageCount):mui.toast(u.msg)},function(e){})},getnewpage:function(e,t,u){var i=Number(t)+1;getvrhdata("GetVRHList","get",{userid:localStorage.getItem("userid"),type:t,pageno:u},!0,function(e){1==e.success?vue1["list"+i].length>0&&$.each(e.body.paging,function(e,t){vue1["list"+i].push(t)}):mui.toast(e.msg)},function(e){})},loadmore:function(e){}}});Vue.filter("sign",function(e){return e>0?"+"+e:e});